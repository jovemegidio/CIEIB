<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Diretoria da CIEIB - Convenção das Igrejas Evangélicas Interdenominacional do Brasil">
    <title>Diretoria - CIEIB</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <!-- Skip to content -->
    <a href="#main-content" class="sr-only sr-only-focusable">Pular para o conteúdo principal</a>

    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="top-bar-left">
                    <span><i class="fas fa-clock"></i> <span data-config="site_horario">Seg a Sex: 09h às 17h</span></span>
                    <span><i class="fas fa-phone"></i> <span data-config="site_telefone">(00) 0000-0000</span></span>
                    <span><i class="fas fa-envelope"></i> <span data-config="site_email">contato@cieib.org.br</span></span>
                </div>
                <div class="top-bar-right" id="topBarSocial">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header" id="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-dove"></i>
                    </div>
                    <div class="logo-text">
                        <span class="logo-name">CIEIB</span>
                        <span class="logo-desc">Convenção das Igrejas Evangélicas<br>Interdenominacional do Brasil</span>
                    </div>
                </a>
                <nav class="nav" id="nav" aria-label="Navegação principal">
                    <ul class="nav-list">
                        <li><a href="index.html">Home</a></li>
                        <li class="dropdown">
                            <a href="#" class="active">Institucional <i class="fas fa-chevron-down"></i></a>
                            <ul class="dropdown-menu">
                                <li><a href="quem-somos.html">Quem Somos</a></li>
                                <li><a href="diretoria.html">Diretoria</a></li>
                                <li><a href="#">Presidente</a></li>
                                <li><a href="#">Conselhos</a></li>
                                <li><a href="#">Comissões</a></li>
                                <li><a href="#">Órgãos</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#">Convenções <i class="fas fa-chevron-down"></i></a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Convenções Afiliadas</a></li>
                                <li><a href="#">Assembleias Convencionais</a></li>
                                <li><a href="#">Resoluções</a></li>
                            </ul>
                        </li>
                        <li><a href="noticias.html">Notícias</a></li>
                        <li><a href="#">Mídias</a></li>
                        <li><a href="contato.html">Contato</a></li>
                        <li class="nav-cta"><a href="area-do-ministro.html"><i class="fas fa-user-shield"></i> Área do Ministro</a></li>
                    </ul>
                </nav>
                <button class="mobile-toggle" id="mobileToggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main id="main-content">

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Diretoria</h1>
            <nav aria-label="Breadcrumb">
                <div class="breadcrumb">
                    <a href="index.html">Home</a>
                    <span>/</span>
                    <a href="#">Institucional</a>
                    <span>/</span>
                    <span aria-current="page">Diretoria</span>
                </div>
            </nav>
        </div>
    </section>

    <!-- Page Content -->
    <section class="page-content">
        <div class="container">
            <div class="section-header">
                <span class="section-tag">Gestão 2025-2029</span>
                <h2>Nossa Diretoria</h2>
                <div class="section-divider"></div>
                <p style="max-width: 600px; margin: 16px auto 0; color: var(--gray);">Conheça os líderes que conduzem a CIEIB com compromisso, fé e dedicação ao trabalho do Senhor.</p>
            </div>

            <div class="team-grid" id="diretoriaGrid">
                <!-- Carregado dinamicamente do banco de dados -->
                <div style="text-align:center;padding:40px;color:#999;grid-column:1/-1;">
                    <i class="fas fa-spinner fa-spin" style="font-size:2rem;"></i>
                    <p style="margin-top:12px;">Carregando diretoria...</p>
                </div>
            </div>

            <!-- Conselho Fiscal -->
            <div style="margin-top: 80px;">
                <div class="section-header">
                    <span class="section-tag">Fiscalização</span>
                    <h2>Conselho Fiscal</h2>
                    <div class="section-divider"></div>
                </div>

                <div class="team-grid" id="conselhoGrid">
                    <div style="text-align:center;padding:40px;color:#999;grid-column:1/-1;">
                        <i class="fas fa-spinner fa-spin" style="font-size:2rem;"></i>
                        <p style="margin-top:12px;">Carregando conselho fiscal...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col footer-about">
                    <div class="footer-logo">
                        <div class="logo-icon"><i class="fas fa-dove"></i></div>
                        <span>CIEIB</span>
                    </div>
                    <p data-config="footer_sobre">Convenção das Igrejas Evangélicas Interdenominacional do Brasil — promovendo a unidade e o crescimento do evangelho em todo o território nacional.</p>
                    <div class="footer-social" id="footerSocial">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Institucional</h3>
                    <ul>
                        <li><a href="quem-somos.html">Quem Somos</a></li>
                        <li><a href="diretoria.html">Diretoria</a></li>
                        <li><a href="#">Presidente</a></li>
                        <li><a href="#">Conselhos</a></li>
                        <li><a href="#">Comissões</a></li>
                        <li><a href="#">Órgãos</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Convenções</h3>
                    <ul>
                        <li><a href="#">Convenções Afiliadas</a></li>
                        <li><a href="#">Assembleias Convencionais</a></li>
                        <li><a href="#">Resoluções</a></li>
                        <li><a href="noticias.html">Notícias</a></li>
                        <li><a href="#">Mídias</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contato</h3>
                    <ul class="footer-contact">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span data-config="site_endereco">Rua Exemplo, 1000<br>Bairro Centro<br>CEP 00000-000<br>Cidade - UF</span>
                        </li>
                        <li>
                            <i class="fas fa-phone"></i>
                            <span data-config="site_telefone">(00) 0000-0000</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span data-config="site_email">contato@cieib.org.br</span>
                        </li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Atendimento</h3>
                    <div class="footer-hours">
                        <p><i class="fas fa-clock"></i> <span data-config="site_horario">Seg a Sex: 09h às 17h</span></p>
                    </div>
                    <a href="contato.html" class="btn btn-outline btn-sm">Fale Conosco</a>
                    <div class="footer-dpo">
                        <a href="lgpd.html">Fale com o DPO</a>
                        <a href="lgpd.html">Política de Privacidade</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p data-config="footer_copyright">Copyright &copy; CIEIB 2026. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <button class="back-to-top" id="backToTop" aria-label="Voltar ao topo">
        <i class="fas fa-chevron-up"></i>
    </button>
    <a href="https://wa.me/5500000000000" class="whatsapp-float" id="whatsappFloat" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp (abre em nova janela)">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script src="js/api.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Carregar diretoria do banco de dados
        (async function loadDiretoria() {
            try {
                const res = await fetch('/api/dashboard/diretoria');
                if (!res.ok) throw new Error('API indisponível');
                const ct = res.headers.get('content-type') || '';
                if (!ct.includes('application/json')) throw new Error('Resposta não-JSON');
                const membros = await res.json();
                if (!membros || membros.length === 0) throw new Error('Sem dados');

                const diretoria = membros.filter(m => m.tipo !== 'conselho_fiscal');
                const conselho = membros.filter(m => m.tipo === 'conselho_fiscal');

                const diretoriaGrid = document.getElementById('diretoriaGrid');
                const conselhoGrid = document.getElementById('conselhoGrid');

                if (diretoria.length > 0) {
                    diretoriaGrid.innerHTML = diretoria.map(d => `
                        <div class="team-card">
                            <div class="team-photo">
                                ${d.foto_url
                                    ? `<img src="${d.foto_url}" alt="${d.nome}" style="width:100%;height:100%;object-fit:cover;">`
                                    : '<i class="fas fa-user"></i>'}
                            </div>
                            <div class="team-info">
                                <span class="team-role">${d.cargo}</span>
                                <h3>${d.nome}</h3>
                                ${d.descricao ? `<p>${d.descricao}</p>` : ''}
                            </div>
                        </div>
                    `).join('');
                }

                if (conselho.length > 0) {
                    conselhoGrid.innerHTML = conselho.map(c => `
                        <div class="team-card">
                            <div class="team-photo" style="height: 180px;">
                                ${c.foto_url
                                    ? `<img src="${c.foto_url}" alt="${c.nome}" style="width:100%;height:100%;object-fit:cover;">`
                                    : '<i class="fas fa-user" style="font-size: 3rem;"></i>'}
                            </div>
                            <div class="team-info">
                                <span class="team-role">${c.cargo}</span>
                                <h3>${c.nome}</h3>
                            </div>
                        </div>
                    `).join('');
                }
            } catch (err) {
                console.log('Diretoria carregada do HTML estático (fallback)');
            }
        })();
    </script>
</body>
</html>
